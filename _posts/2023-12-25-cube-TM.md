---
title: 【也许你不想学】无公式复原魔方：降群法
tags:  
- 也许你不想学
- 魔方
---

从小到大我们接触魔方都是从公式开始的。我们学会了魔方，却只是依靠公式的力量。要真正了解魔方，就必须抛开公式。**降群法**（Thistlethwaite Method）可以让你从本质上学会魔方。

<!--more-->

## 群

群是一个很好理解的数学概念，可以类比生活中的一个小团体。

集合 $G$ 和在集合 $G$ 上的二元运算 $\cdot$ 构成了代数结构 $(G, \cdot)$ 满足**封闭性**、**结合律**、**单位元**、**逆元**的性质称之为**群**。

**封闭性**： $\forall x \forall y, (x, y \in G) \to (x \cdot y \in G)$

**结合律**： $\forall x \forall y \forall z, (x, y, z \in G) \to ((x \cdot y) \cdot z = x \cdot (y \cdot z))$

**单位元**： $\exists e, (e \in G) \wedge (\forall x, (x \in G) \to (e \cdot x = x \cdot e = x))$

**逆元**： $\forall x, (x \in G) \to (\exists y, (y \in G) \wedge (x \cdot y  = y \cdot x = e))$

例如，整数对加法是一个群、任何一个有限集的所有置换对复合运算构成对称群。

群的概念很好理解，这里做初步了解即可。

## 降群法初探

**降群法**（Thistlethwaite Method）简称 TM，最初是用于计算机解决魔方问题的。

它不像诸如 CFOP 和桥式一样优先复原几块或几层，这样会导致后面的步骤要求不打乱原来的部分，因而就有了公式的必要性。

它的总体上的思路是从整体上慢慢的恢复的有规律，看似没有一个面是复原的，而最后只需数步即可复原。

而使其变得有规律的方式是将魔方的状态看作群，将其慢慢的简化，直至简化成最初的状态。

我们来了解一下魔方的群。

### 辛马斯特标记

用 **U**p, **D**own, **L**eft, **R**ight, **F**ront, **B**ack 的首字母表示表示上下左右前后六个面。

单独一个字母表示顺时针 $90 ^{\circ}$，加 ' 表示逆时针 $90 ^{\circ}$，加 2 表示转 $180 ^{\circ}$。

例如，U'

![U'](https://panda-ghost.github.io/pic/cubeU_.gif)

### 魔方群

魔方的一次操作可以看做对于魔方的 $6\times 9=54$ 个面的置换。这样一来，我们把魔方每一个状态，看作从初始状态到这的置换。我们研究的对象从转为置换。这些置换对复合运算构成一个群。

**封闭律**，显然你无论怎么转都不会出这个集合。**结合率**，也显然。**单位元**，就是什么都不转，计作 $\text{I}$。**逆元**，就是倒着做。

#### 对于魔方群 $(G, \cdot)$ 的描述

使用 $\cdot$ 表示复合运算。我们称 $S$ 为集合 $G$ 的基本元素意思是：

1. $\forall x \in S, x\in G$

2. $\forall x, y \in G, x\cdot y \in G$ 

以这种方式由 $S$ 构造 $G$。

用人话说，就是只使用基本元素不断组合，能转动到的状态的集合，很好理解吧。

#### 降群法里的群

|      | 基本元素                                   | 大小                    |
| ---- | -------------------------------------- | --------------------- |
| $G0$ | $\{\text{I, U, D, L, R, F, B}\}$       | $4.33 \times 10^{19}$ |
| $G1$ | $\{\text{I, U, D, L, R, F2, B2}\}$     | $2.11 \times 10^{16}$ |
| $G2$ | $\{\text{I, U, D, L2, R2, F2, B2}\}$   | $1.95 \times 10^{10}$ |
| $G3$ | $\{\text{I, U2, D2, L2, R2, F2, B2}\}$ | $6.63 \times 10^5$    |
| $G4$ | $\{\text{I}\}$                         | $1$                   |

## 各群的等价特征

这是你在实际过程中复原的最重要的部分。我们不妨以黄面为顶，红面朝前。

### G1

G1 等价于**棱块色相正确**。什么是棱块色相正确呢？

因为黄白色对面，红橙色对面，蓝绿色对面。我们称上下两面的颜色为**高级色**，前后两面的颜色为**中级色**，左右两面的颜色为**低级色**。又称高级色比中级色高级，中级色比低级色高级，高级色比低级色高级。

我们称面 UR 指的是 U 面于 R 面交界的棱块上的处于 U 面的面，面 RU 指的是 U 面于 R 面交界的棱块上的处于 R 面的面。

面 UR:

![UR](https://panda-ghost.github.io/pic/cube_UR.png)

面 RU:

![RU](https://panda-ghost.github.io/pic/cube_RU.png)

则棱块色相正确是指 **UL,UR,UF,UB,DL,DR,DF,DB,FL,FR,BL,BR 这 12 个面比对应棱块的另一个面颜色高级**

显然棱块色向正确是处于 G1 群的必要条件，因为对于初始状态，棱块色相正确。而通过 U,D,L,R,F2,B2 不会改变色相。至于充分性，留给读者作为课后思考题。

### G2

G2 等价于在 G1 的基础上要求**上下面只有黄白色**。此时由于棱块色向已经正确，可知中层的颜色只会存在对色。

显然其必要性也是很好理解的，因为 L,R,F,B 都只能转动 $180 ^{\circ}$，所以上下只有黄白色。

### G3

G3 等价于**每一个面只存在原色和对色**且**角块相对位置正确**。

角块相对位置正确保证角块可以恢复。

对于棱块，在角块复原的时候可以证明棱块只存在对色和原色与 G3 等价。对于必要性显然。至于充分性，首先可知棱块在每个中层四个棱块是一个置换。然后证明只用 U2,D2,L2,R2,F2,B2 可以实现 (1)一个中层内的三棱换 (2)两个中层各交换两个棱块。如果证明了 (1) (2) 就证明了等价性，因为不可能只存在两个棱块需要交换。

 (1)

F2 R2 F2 R2 F2 R2 U2 L2 F2 U2 B2 R2 D2 B2 U2 B2 L2 U2 R2 F2 D2 R2

![](https://panda-ghost.github.io/pic/cube1.gif)

 (2)

有三种情况

i

F2 R2 F2 R2 F2 R2

![](https://panda-ghost.github.io/pic/cube21.gif)

ii

U2 R2 U2 R2 U2 R2 F2 L2 D2 F2 U2 R2 F2 D2 F2 B2 

![](https://panda-ghost.github.io/pic/cube22.gif)

iii

U2 L2 U2 L2 U2 L2 转化为 (1)

![](https://panda-ghost.github.io/pic/cube23.gif)

## 复原方法

## 思考
